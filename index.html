<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ä¸ƒå¾‹ç©ºé—´</title>
    <meta name="description" content="ä¸ƒå¾‹ç©ºé—´ - åŸåˆ›ä¸ƒè¨€å¾‹è¯—ä½œå“é›†ï¼Œä¼ æ‰¿å¤å…¸è¯—è¯ä¹‹ç¾ï¼Œæ¢ç´¢å½“ä»£æƒ…æ„Ÿè¡¨è¾¾ã€‚">
    <meta name="keywords" content="ä¸ƒå¾‹,å¾‹è¯—,å¤è¯—è¯,åŸåˆ›è¯—è¯,ä¸ƒè¨€å¾‹è¯—">
    <meta name="author" content="ä¸ƒå¾‹ç©ºé—´">

    <!-- Open Graph ç¤¾äº¤åˆ†äº« -->
    <meta property="og:title" content="ä¸ƒå¾‹ç©ºé—´">
    <meta property="og:description" content="åŸåˆ›ä¸ƒè¨€å¾‹è¯—ä½œå“é›†ï¼Œä¼ æ‰¿å¤å…¸è¯—è¯ä¹‹ç¾">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://qilv-lattice.github.io/assets/background01.jpg">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@300;700&display=swap"
        rel="stylesheet">

    <!-- å…³é”®èµ„æºé¢„åŠ è½½ -->
    <link rel="preload" href="css/base.css" as="style">
    <link rel="preload" href="js/script.js" as="script">
    <link rel="preload" href="data/poems.json" as="fetch" crossorigin>

    <!-- ç§»åŠ¨ä¼˜å…ˆåŸºç¡€æ ·å¼ -->
    <link rel="stylesheet" href="css/base.css">

    <!-- æ¡Œé¢ç¾å­¦å±‚ - ä»…åœ¨å¤§å±åŠ è½½ -->
    <link rel="stylesheet" href="css/desktop.css" media="(min-width: 1024px)">
</head>

<body>
    <!-- ç²’å­ç”»å¸ƒ (ä»…æ¡Œé¢ç«¯æ˜¾ç¤º) -->
    <canvas id="particle-canvas"></canvas>

    <!-- æ›´æ–°é€šçŸ¥å–‡å­ -->
    <div class="update-notice" id="update-notice" onclick="toggleUpdateNotice()">
        <span class="notice-icon">ğŸ“¢</span>
        <span class="notice-text" id="notice-text">æ–°ä½œä¸Šçº¿</span>
    </div>

    <!-- æŒ‚ä»¶æ§åˆ¶ç»„ -->
    <div class="music-wrapper">
        <!-- èƒŒæ™¯æ§åˆ¶æŒ‰é’® -->
        <button id="bg-btn" class="widget-btn">éšæœº<br>èƒŒæ™¯</button>

        <!-- èƒŒæ™¯é€‰æ‹©åˆ—è¡¨ -->
        <ul id="bg-list" class="bg-list">
            <li data-index="0">åƒé‡Œæ±Ÿå±±</li>
            <li data-index="1">è§‚éŸ³å¤§å£«</li>
            <li data-index="2">æ®‹é˜³å¦‚è¡€</li>
            <li data-index="3">å¦©åªšé’å±±</li>
            <li data-index="4">æ¢…èŠ±å±±æ°´</li>
            <li data-index="5">åº„ç”Ÿè´è¶</li>
            <li data-index="6">æ¬§é™†é£æƒ…</li>
            <li data-index="7">ç å³°é“¶æœˆ</li>
            <li data-index="8">äº”å½©æ–‘æ–“</li>
            <li data-index="9">æ˜Ÿç©ºå‚é‡</li>
        </ul>

        <!-- åå½•æŒ‰é’® -->
        <button id="toc-btn" class="widget-btn" onclick="toggleTOC()">ä½œå“<br>åå½•</button>

        <!-- æ’ç‰ˆæ¨¡å¼åˆ‡æ¢ -->
        <button id="mode-btn" onclick="toggleMode()">ç«–æ’<br>è§‚èµ</button>

        <!-- ä½œå“æ³¨é‡ŠæŒ‰é’® -->
        <div class="music-label" id="note-btn" onclick="toggleNotes()">ä½œå“<br>æ³¨é‡Š</div>

        <!-- æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢ -->
        <!-- äº‘ç¬ºæ¨¡å¼é€‰æ‹©ï¼ˆå¸¦ä¸‹æ‹‰åˆ—è¡¨ï¼‰ -->
        <div class="widget-group" style="position: relative;">
            <button id="theme-btn" class="widget-btn">äº‘ç¬º<br>èŠ±æ ·</button>
            <ul id="theme-list" class="selector-list">
                <li data-value="default" class="active">å®£çº¸</li>
                <li data-value="card01">èŠ±ç¬ºä¸€</li>
                <li data-value="card02">èŠ±ç¬ºäºŒ</li>
                <li data-value="card03">èŠ±ç¬ºä¸‰</li>
                <li data-value="card04">èŠ±ç¬ºå››</li>
                <li data-value="card05">èŠ±ç¬ºäº”</li>
            </ul>
        </div>

        <!-- éŸ³ä¹æ’­æ”¾æ¨¡å¼åˆ‡æ¢ -->
        <button id="playmode-btn" class="widget-btn" onclick="togglePlayMode()">å•æ›²<br>å¾ªç¯</button>

        <!-- éŸ³ä¹æ§åˆ¶å›¾æ ‡ -->
        <div id="music-control" class="music-control">
            <svg class="music-icon" viewBox="0 0 24 24">
                <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"
                    fill="currentColor" />
            </svg>
        </div>

        <!-- éšè—æ­Œå• -->
        <ul id="music-list" class="music-list">
            <li data-src="assets/music01-é˜³å…³ä¸‰å .mp3" class="active">é˜³å…³ä¸‰å </li>
            <li data-src="assets/music02-æ¢ç¥.mp3">æ¢ç¥</li>
            <li data-src="assets/music03-çµç¶è¯­.mp3">çµç¶è¯­</li>
            <li data-src="assets/music04-æ¸”æ­Œå”±æ™š.mp3">æ¸”æ­Œå”±æ™š</li>
            <li data-src="assets/music05-è‡´çˆ±ä¸½ä¸.mp3">è‡´è‰¾ä¸½ä¸</li>
            <li data-src="assets/music06-æ‚²æ€†å¥é¸£æ›².mp3">æ‚²æ€†å¥é¸£æ›²</li>
            <li data-src="assets/music07-ç¥è¯.mp3">ç¥è¯</li>
            <li data-src="assets/music08-å…‹ç½—åœ°äºšç‹‚æƒ³æ›².mp3">å…‹ç½—åœ°äºšç‹‚æƒ³æ›²</li>
            <li data-src="assets/music09-é’åŸå±±ä¸‹ç™½ç´ è´.mp3">é’åŸå±±ä¸‹ç™½ç´ è´</li>
            <li data-src="assets/music10-åŠå±±å¬é›¨.mp3">åŠå±±å¬é›¨</li>
            <li data-src="assets/music11-é«˜å±±æµæ°´.mp3">é«˜å±±æµæ°´</li>
            <li data-src="assets/music12-çƒŸé›¨å”±æ‰¬å·.mp3">çƒŸé›¨å”±æ‰¬å·</li>
        </ul>

        <audio id="bg-music" loop></audio>
    </div>

    <div class="container">
        <header>
            <h1 class="site-title">ä¸ƒå¾‹ç©ºé—´</h1>
            <p class="subtitle">ä»»å‡­åŠ«éš¾ç£¨æ£±è§’ï¼Œä¸ä¸ºæµ®åæ˜“ç´ å¿ƒ</p>
        </header>

        <main id="poem-card" class="poem-card">
            <div class="poem-content">
                <!-- å³ä¸Šè§’è£…é¥°ææ¡ SVG -->
                <svg class="decoration-branch" viewBox="0 0 100 100" width="100" height="100">
                    <path d="M100,0 Q60,20 30,50" fill="none" stroke="#a8bba8" stroke-width="2"
                        stroke-linecap="round" />
                    <path d="M70,25 Q80,40 75,55" fill="none" stroke="#a8bba8" stroke-width="1.5"
                        stroke-linecap="round" />
                    <path d="M45,40 Q30,30 20,35" fill="none" stroke="#a8bba8" stroke-width="1.5"
                        stroke-linecap="round" />
                    <circle cx="30" cy="50" r="3" fill="#d48888" opacity="0.8" />
                    <circle cx="75" cy="55" r="2.5" fill="#d48888" opacity="0.7" />
                    <circle cx="20" cy="35" r="2" fill="#d48888" opacity="0.6" />
                    <circle cx="60" cy="20" r="2" fill="#d48888" opacity="0.5" />
                </svg>

                <div id="poem-text-container">
                    <h2 id="poem-title">ä¸ƒå¾‹ Â· è‡ªå†µ</h2>

                    <div id="poem-body" class="body-text">
                        <p>ç¡¬è¯­ç›˜ç©ºå­—å­—çœŸï¼Œè¯—è¯æ— ç¾½æ‹‚çº¤å°˜ã€‚</p>
                        <p>æ¨å´‡å¥‹å‘æ¢åŸå§”ï¼Œå…‹åˆ¶å¼ºè¡Œè®ºæœå› ã€‚</p>
                        <p>æ—¢æä»–äººæœŸå¾…å·±ï¼Œè¿˜å¿§è‡ªå·±ç´¢æ±‚äººã€‚</p>
                        <p>ç—´è¿·ä¸€ä»¶éš¾å¹³äº‹ï¼Œè§£æ”¾æ‰æƒ…æœ‰é™èº«ã€‚</p>
                    </div>
                </div>

                <!-- å°ç« å®¹å™¨ -->
                <div class="stamps-container">
                    <div class="seal">å½“ä»£<br>ä½œå“</div>
                    <div class="seal">ç†å·¥<br>åšå£«</div>
                    <div class="seal">é’¢é“<br>æ›²ç”·</div>
                </div>
            </div>

            <!-- æ§åˆ¶æŒ‰é’® -->
            <div class="control-panel">
                <button id="prev-btn" onclick="prevPoem()">ä¸Šä¸€é¦–</button>
                <button id="next-btn" onclick="nextPoem()">ä¸‹ä¸€é¦–</button>
            </div>
        </main>

        <!-- åº•éƒ¨é¡µè„šä¿¡æ¯ -->
        <footer class="site-footer">
            <div class="footer-info">
                <p>æ„Ÿè°¢è¿›å…¥æˆ‘çš„ä¸ƒå¾‹ç©ºé—´ï¼Œå¸Œæœ›æ–‡å­—ç»™æ‚¨ç¾çš„äº«å—ï¼</p>
                <p>é‚®ç®±ï¼šmymdphdcandidate@gmail.com</p>
            </div>
            <p class="footer-stars">â˜…â˜…â˜…â˜…â˜…</p>
        </footer>
    </div>

    <!-- åå½•å¼¹çª— -->
    <div id="toc-overlay" class="toc-overlay" onclick="toggleTOC()">
        <div class="toc-card" onclick="event.stopPropagation()">
            <h3 class="toc-title">ä½œå“åå½•</h3>
            <ul id="toc-list" class="toc-list">
                <!-- åŠ¨æ€æ¸²æŸ“å†…å®¹ -->
            </ul>
            <div class="toc-close" onclick="toggleTOC()">[ å…³é—­ ]</div>
        </div>
    </div>

    <!-- ä½œå“æ³¨é‡Šå¼¹çª— -->
    <div id="notes-overlay" class="toc-overlay" onclick="toggleNotes()">
        <div class="toc-card" onclick="event.stopPropagation()">
            <h3 class="toc-title">ä½œå“æ³¨é‡Š</h3>
            <div id="notes-content" class="notes-content">
                <!-- åŠ¨æ€æ¸²æŸ“æ³¨é‡Šå†…å®¹ -->
            </div>
            <div class="toc-close" onclick="toggleNotes()">[ å…³é—­ ]</div>
        </div>
    </div>

    <!-- æ ¸å¿ƒè„šæœ¬ -->
    <script src="js/script.js"></script>

    <!-- ç²’å­æ•ˆæœ - ä»…æ¡Œé¢ç«¯åŠ è½½ -->
    <script>
        if (window.innerWidth >= 1024) {
            const script = document.createElement('script');
            script.src = 'js/particles.js';
            document.body.appendChild(script);

            // FCC æ™¶æ ¼åŠ¨ç”»ï¼ˆå·¦ä¸‹è§’ï¼‰
            const fccScript = document.createElement('script');
            fccScript.src = 'js/fcc-lattice.js';
            document.body.appendChild(fccScript);

            // [æ–°å¢] BCC æ™¶æ ¼åŠ¨ç”»ï¼ˆå·¦ä¾§ä¸­ä¸Šï¼‰
            const bccScript = document.createElement('script');
            bccScript.src = 'js/bcc-lattice.js';
            document.body.appendChild(bccScript);

            // [æ–°å¢] HCP æ™¶æ ¼åŠ¨ç”»ï¼ˆå·¦ä¾§ä¸­ä¸‹ï¼‰
            const hcpScript = document.createElement('script');
            hcpScript.src = 'js/hcp-lattice.js';
            document.body.appendChild(hcpScript);

            // ä½é”™æ»‘ç§»åŠ¨ç”»ï¼ˆå³ä¸‹è§’ï¼‰
            const dislocScript = document.createElement('script');
            dislocScript.src = 'js/dislocation.js';
            document.body.appendChild(dislocScript);

            // GSAP è¯—å¥å·¥ä¸šè£…é…åŠ¨ç”»
            const poemAnimScript = document.createElement('script');
            poemAnimScript.src = 'js/poem-animation.js';
            document.body.appendChild(poemAnimScript);
        }
    </script>
</body>

</html>